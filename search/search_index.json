{"config":{"indexing":"full","lang":["en","es"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction \u00b6 Nifi Monitoring is a solution that proposes to solve a great difficulty encountered during the development of NIFI Projects and that corresponds to the complex process of monitoring the operation of different NIFI instances simultaneously. This applications solves this problem centralizing all the information regarding the operation of the different components for various instances and has a set of panels that allow you to clearly and quickly view the operation of these instances. About this product Supports multiple NIFI instances either Standalone or Cluster Nodes Get the data from logs, reports and nifi-api This application requieres the implementation of the following dependencies; Lookup File Editor Status Indicator - Custom Visualization Its operation is completely free and you can contribute through the Github repository Write us at splunk.app@kudaw.com for an evaluation or through our site kudaw.com","title":"Introduction"},{"location":"#introduction","text":"Nifi Monitoring is a solution that proposes to solve a great difficulty encountered during the development of NIFI Projects and that corresponds to the complex process of monitoring the operation of different NIFI instances simultaneously. This applications solves this problem centralizing all the information regarding the operation of the different components for various instances and has a set of panels that allow you to clearly and quickly view the operation of these instances. About this product Supports multiple NIFI instances either Standalone or Cluster Nodes Get the data from logs, reports and nifi-api This application requieres the implementation of the following dependencies; Lookup File Editor Status Indicator - Custom Visualization Its operation is completely free and you can contribute through the Github repository Write us at splunk.app@kudaw.com for an evaluation or through our site kudaw.com","title":"Introduction"},{"location":"configuration/","text":"Configuring NIFI Monotoring Splunk \u00b6 Configuration \u00b6 At this stage, all the necessary steps that must be carried out by the side of our nifi instances that are to be monitored will be detailed. There are two ways of configuration that allow the sending of events to Splunk and their choice depends on the authentication mechanisms that NIFI has enabled. Direct sending: This configuration will establish NIFI as the main way to send data to Splunk and should be used when NIFI does not have authentication methods enabled. Splunk Data Input NiFi: Splunk will be in charge of making requests to the NIFI instances to retrieve the information from the Monitoring API by enabling and using the Data Input NIFI. This configuration should be used when NIFI has basic authentication. [NOTE] Configure only one methodology, both running will generate duplicate information. Direct Sending \u00b6 1. Configuring HTTP Event Collector (HEC) in Splunk \u00b6 Configuration of an HTTP Event Collector (HEC) is required. This allows events to be sent from nifi instances to a Splunk implementation via the HTTP and HTTPS protocols. To configure, from the Splunk menu select Settings > Data Inputs. In the Local Inputs list, identify HTTP Event Collector and add a new one. In the configuration process you must: Assign a name for the data input, Set the sourcetype to automatic , Select the App Context NIFI Monitoring and finally Select the Index where the data will be stored. It is recommended to use a dedicated Index for this monitoring. If it does not exist, you must create it prior to this configuration. At the end of the configuration of this Event Collector, a Token Value will be created, which is necessary to later configure the sending of data from NIFI. Configuration process: 2. Import Flow Definition in NIFI \u00b6 Download and use the provided Flow Definition for NiFi Monitoring setup via this link NifiMonitoring . You can also find this file inside the flow_definition folder of the project. The Flow Definition file is the structure of a group of processes in charge of collecting and executing the sending of NIFI data to Splunk. It is in JSON format which can be directly imported. To import the Flow Definition, drag a process group box onto the nifi canvas In the pop-up window, select the import icon, browse your computer, and select the NiFiMonitoring.json flow definition to import. Once imported, click \"add\" to finish importing the flow definition. Finally, you will see the processor group and inside it contains the following structure: 3. Global variables configuration \u00b6 It is essential to configure global variables as they are imprescindible for their operation. To configure the parameters, right click on the NifiMonitoring box > Variables. A pop-up window will be displayed where you will have to configure the following parameters: nifi_api_url: Corresponds to the route of the NIFI Rest API, (Eg: http://127.0.0.1:8080/nifi-api/) nifi_path: Corresponds to the nifi server installation path (in case of a cluster, it must be installed in the same path on each node). Example: /home/nifi/nifi-1.10.0/ process_groups_list: List of IDs of process groups that need to be monitored, separated by line break. processors_list: List of Processor IDs that need to be monitored, separated by line break. splunk_hec: It is the address of the splunk server where the data input HTTP Event Collector was configured. (Eg. http:// :8088/) splunk_hec_token: Token obtained when configuring HTTP Event Collector . 4. Components configuration \u00b6 After configuring the variables, it is necessary to create the following components. To configure access Nifi Settings from the menu > Controller Settings A pop-up window like the following will be displayed: In the Reporting Task Controller Services tab, add the JsonRecordSetWriter controller service, which will allow parsing the results obtained from the Reporting Task service for later indexing in splunk. To add, click the (+) button The window to add the controller will be displayed. Filter the list of options with the item to be added, select it and add it to the configuration. Once added, you must enable its operation by clicking on the lightning bolt icon (\u03df) and in the pop-up window confirm. This will enable the controller and you should have a configuration like the following. In this same window, in the Reporting Task tab, the following reports must be configured. MonitorDiskUsage SitetoSiteBulletinReportingTask SitetoSiteMetricsReportingTask Add and find the required reporting tasks in the same way as the previous step, by clicking the (+) icon. Once added you can have a view like the following. Configure task reports with the following information: MonitorDiskUsage: Internal reporting system that generates events as the threshold defined for the use of the filesystem is exceeded and captured in a specific flow. SiteToSiteBulletinReportingTask: Internal reporting system that generates events as bulletin type errors are generated and captured in a specific flow. The configuration should be as follows: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: bulletin_report Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter SiteToSiteMetricsReportingTask: Internal reporting system that generates events as metrics are generated from the same environment and captured in a specific flow. The configuration should be as follows: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: reporting_task Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter Output Format: Record Formats Once the reporting tasks have been configured, you must start the execution by clicking start (\u25ba) on each of them. 5. Enabling the sending of data \u00b6 After completing the entire configuration process, start the process group execution. Right click on the process group and then Start. If all the configuration was successful, the information will be sent to Splunk. For the data sent to splunk to be accessible from the application, you must have configured the NIFI Instances Lookup Configuration of Nifi Data Input in Splunk \u00b6 This configuration must be applied when the NIFI instances have at least basic authentication In the Splunk data inputs you can configure several resources, such as: NIFI Endpoints for monitoring System Diagnostics, Flow Status and Site to Site and the NIFI Status History for specific monitoring of processors and process groups based on their IDs. To configure, in the splunk where the Nifi Monitoring application is installed, access the Home of the APP. Then in Settings Data Inputs In the local data input, identify NiFi and then click on + Add new A window like the following will be displayed: We recommend that you configure each of the monitoring resources independently for eventual changes in the configuration and due to execution times to obtain data. The resources are: a. NIFI Endpoints b. NIFI Status History for Processors c. NIFI Status History for Process Groups 1. Basic resource configuration \u00b6 For each of the resources you must configure all the required fields: NIFI Instance name: Assigns a name to the NIFI instance NIFI API URL: NIFI Rest API address. (eg. http://<address:port>/nifi-api/) Auth Type: Authentication type: none: No authentication basic: Access with username and password credentials Interval: Time in seconds in which the requests will be executed to extract the information, by default, 60 seconds. Host: Name of the nifi host, which must correspond to what is defined in the Configuration Lookup. Index: Destination index for this data source. A dedicated index is recommended, for example: nifi. If it does not exist, you must create it first. a. NIFI Endpoints \u00b6 In the NIFI Endpoints section, select the elements to monitor from the existing list. System Diagnostics Flow Status Site to Site b. NIFI Status History for Processors \u00b6 In the NIFI Status History > List Processors ID section, specify the processor IDs that will be monitored and separated by commas if there are several. c. NIFI Status History for Process Groups \u00b6 In the NIFI Status History > Process Groups ID section, specify the IDs of the process groups that will be monitored and separated by a comma if there are several. After the configuration is complete, click next and the creation will finish successfully Repeat the configuration process for each resource you need to monitor. Example of the 3 resources created independently Transverse configuration \u00b6 Regardless of the shipping methodology adopted, this configuration step is required for data display in the NIFI Monitoring Splunk application. Instance Lookup \u00b6 Go to Configuration > NiFi Instances to access the Lookups configuration view Complete the information in the fields, where the cluster label is to associate a group of nodes and host is the name of the instance. To obtain the name of the host, execute the following search with a time range of the last 60 minutes. Splunk Query sourcetype=nifi* | dedup host | table host The result of this query will return the list of hosts that must be configured in the lookup. If the lookup is correctly configured, the information can be accessed from the Overview panel. There are no results in the executed search? For this search to return results, the Nifi processes must be running correctly. According to the configuration methodology you must: Direct sending: You must start the NIFI processes How to enable data sending? Splunk Data Input NiFi: The configured data inputs must be enabled.","title":"NIFI Configuration"},{"location":"configuration/#configuring-nifi-monotoring-splunk","text":"","title":"Configuring NIFI Monotoring Splunk"},{"location":"configuration/#configuration","text":"At this stage, all the necessary steps that must be carried out by the side of our nifi instances that are to be monitored will be detailed. There are two ways of configuration that allow the sending of events to Splunk and their choice depends on the authentication mechanisms that NIFI has enabled. Direct sending: This configuration will establish NIFI as the main way to send data to Splunk and should be used when NIFI does not have authentication methods enabled. Splunk Data Input NiFi: Splunk will be in charge of making requests to the NIFI instances to retrieve the information from the Monitoring API by enabling and using the Data Input NIFI. This configuration should be used when NIFI has basic authentication. [NOTE] Configure only one methodology, both running will generate duplicate information.","title":"Configuration"},{"location":"configuration/#direct-sending","text":"","title":"Direct Sending"},{"location":"configuration/#1-configuring-http-event-collector-hec-in-splunk","text":"Configuration of an HTTP Event Collector (HEC) is required. This allows events to be sent from nifi instances to a Splunk implementation via the HTTP and HTTPS protocols. To configure, from the Splunk menu select Settings > Data Inputs. In the Local Inputs list, identify HTTP Event Collector and add a new one. In the configuration process you must: Assign a name for the data input, Set the sourcetype to automatic , Select the App Context NIFI Monitoring and finally Select the Index where the data will be stored. It is recommended to use a dedicated Index for this monitoring. If it does not exist, you must create it prior to this configuration. At the end of the configuration of this Event Collector, a Token Value will be created, which is necessary to later configure the sending of data from NIFI. Configuration process:","title":"1. Configuring HTTP Event Collector (HEC) in Splunk"},{"location":"configuration/#2-import-flow-definition-in-nifi","text":"Download and use the provided Flow Definition for NiFi Monitoring setup via this link NifiMonitoring . You can also find this file inside the flow_definition folder of the project. The Flow Definition file is the structure of a group of processes in charge of collecting and executing the sending of NIFI data to Splunk. It is in JSON format which can be directly imported. To import the Flow Definition, drag a process group box onto the nifi canvas In the pop-up window, select the import icon, browse your computer, and select the NiFiMonitoring.json flow definition to import. Once imported, click \"add\" to finish importing the flow definition. Finally, you will see the processor group and inside it contains the following structure:","title":"2. Import Flow Definition in NIFI"},{"location":"configuration/#3-global-variables-configuration","text":"It is essential to configure global variables as they are imprescindible for their operation. To configure the parameters, right click on the NifiMonitoring box > Variables. A pop-up window will be displayed where you will have to configure the following parameters: nifi_api_url: Corresponds to the route of the NIFI Rest API, (Eg: http://127.0.0.1:8080/nifi-api/) nifi_path: Corresponds to the nifi server installation path (in case of a cluster, it must be installed in the same path on each node). Example: /home/nifi/nifi-1.10.0/ process_groups_list: List of IDs of process groups that need to be monitored, separated by line break. processors_list: List of Processor IDs that need to be monitored, separated by line break. splunk_hec: It is the address of the splunk server where the data input HTTP Event Collector was configured. (Eg. http:// :8088/) splunk_hec_token: Token obtained when configuring HTTP Event Collector .","title":"3. Global variables configuration"},{"location":"configuration/#4-components-configuration","text":"After configuring the variables, it is necessary to create the following components. To configure access Nifi Settings from the menu > Controller Settings A pop-up window like the following will be displayed: In the Reporting Task Controller Services tab, add the JsonRecordSetWriter controller service, which will allow parsing the results obtained from the Reporting Task service for later indexing in splunk. To add, click the (+) button The window to add the controller will be displayed. Filter the list of options with the item to be added, select it and add it to the configuration. Once added, you must enable its operation by clicking on the lightning bolt icon (\u03df) and in the pop-up window confirm. This will enable the controller and you should have a configuration like the following. In this same window, in the Reporting Task tab, the following reports must be configured. MonitorDiskUsage SitetoSiteBulletinReportingTask SitetoSiteMetricsReportingTask Add and find the required reporting tasks in the same way as the previous step, by clicking the (+) icon. Once added you can have a view like the following. Configure task reports with the following information: MonitorDiskUsage: Internal reporting system that generates events as the threshold defined for the use of the filesystem is exceeded and captured in a specific flow. SiteToSiteBulletinReportingTask: Internal reporting system that generates events as bulletin type errors are generated and captured in a specific flow. The configuration should be as follows: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: bulletin_report Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter SiteToSiteMetricsReportingTask: Internal reporting system that generates events as metrics are generated from the same environment and captured in a specific flow. The configuration should be as follows: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: reporting_task Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter Output Format: Record Formats Once the reporting tasks have been configured, you must start the execution by clicking start (\u25ba) on each of them.","title":"4. Components configuration"},{"location":"configuration/#5-enabling-the-sending-of-data","text":"After completing the entire configuration process, start the process group execution. Right click on the process group and then Start. If all the configuration was successful, the information will be sent to Splunk. For the data sent to splunk to be accessible from the application, you must have configured the NIFI Instances Lookup","title":"5. Enabling the sending of data"},{"location":"configuration/#configuration-of-nifi-data-input-in-splunk","text":"This configuration must be applied when the NIFI instances have at least basic authentication In the Splunk data inputs you can configure several resources, such as: NIFI Endpoints for monitoring System Diagnostics, Flow Status and Site to Site and the NIFI Status History for specific monitoring of processors and process groups based on their IDs. To configure, in the splunk where the Nifi Monitoring application is installed, access the Home of the APP. Then in Settings Data Inputs In the local data input, identify NiFi and then click on + Add new A window like the following will be displayed: We recommend that you configure each of the monitoring resources independently for eventual changes in the configuration and due to execution times to obtain data. The resources are: a. NIFI Endpoints b. NIFI Status History for Processors c. NIFI Status History for Process Groups","title":"Configuration of Nifi Data Input in Splunk"},{"location":"configuration/#1-basic-resource-configuration","text":"For each of the resources you must configure all the required fields: NIFI Instance name: Assigns a name to the NIFI instance NIFI API URL: NIFI Rest API address. (eg. http://<address:port>/nifi-api/) Auth Type: Authentication type: none: No authentication basic: Access with username and password credentials Interval: Time in seconds in which the requests will be executed to extract the information, by default, 60 seconds. Host: Name of the nifi host, which must correspond to what is defined in the Configuration Lookup. Index: Destination index for this data source. A dedicated index is recommended, for example: nifi. If it does not exist, you must create it first.","title":"1. Basic resource configuration"},{"location":"configuration/#a-nifi-endpoints","text":"In the NIFI Endpoints section, select the elements to monitor from the existing list. System Diagnostics Flow Status Site to Site","title":"a. NIFI Endpoints"},{"location":"configuration/#b-nifi-status-history-for-processors","text":"In the NIFI Status History > List Processors ID section, specify the processor IDs that will be monitored and separated by commas if there are several.","title":"b. NIFI Status History for Processors"},{"location":"configuration/#c-nifi-status-history-for-process-groups","text":"In the NIFI Status History > Process Groups ID section, specify the IDs of the process groups that will be monitored and separated by a comma if there are several. After the configuration is complete, click next and the creation will finish successfully Repeat the configuration process for each resource you need to monitor. Example of the 3 resources created independently","title":"c. NIFI Status History for Process Groups"},{"location":"configuration/#transverse-configuration","text":"Regardless of the shipping methodology adopted, this configuration step is required for data display in the NIFI Monitoring Splunk application.","title":"Transverse configuration"},{"location":"configuration/#instance-lookup","text":"Go to Configuration > NiFi Instances to access the Lookups configuration view Complete the information in the fields, where the cluster label is to associate a group of nodes and host is the name of the instance. To obtain the name of the host, execute the following search with a time range of the last 60 minutes. Splunk Query sourcetype=nifi* | dedup host | table host The result of this query will return the list of hosts that must be configured in the lookup. If the lookup is correctly configured, the information can be accessed from the Overview panel. There are no results in the executed search? For this search to return results, the Nifi processes must be running correctly. According to the configuration methodology you must: Direct sending: You must start the NIFI processes How to enable data sending? Splunk Data Input NiFi: The configured data inputs must be enabled.","title":"Instance Lookup"},{"location":"contributing/","text":"Contributing \u00b6 Thank you for your interest in our content, if you want to contribute to the development of this project the best way to do it is by sending a well structured and complete Pull Request, with tests and documentation. Try to be focused, doing more than one thing in a single request will make it harder to process. Issues \u00b6 If you found a bug or have a feature request you can register an issue. We always recommend reviewing the issues created, because it may be that it has already been reported.","title":"Contribute"},{"location":"contributing/#contributing","text":"Thank you for your interest in our content, if you want to contribute to the development of this project the best way to do it is by sending a well structured and complete Pull Request, with tests and documentation. Try to be focused, doing more than one thing in a single request will make it harder to process.","title":"Contributing"},{"location":"contributing/#issues","text":"If you found a bug or have a feature request you can register an issue. We always recommend reviewing the issues created, because it may be that it has already been reported.","title":"Issues"},{"location":"installation/","text":"Install and configure of NIFI Monitoring App \u00b6 In this section the necessary steps required to install and configure the NIFI Monitoring application will be detailed. Install NIFI Monitoring APP \u00b6 NIFI Monitoring is designed to be installed in Standalone or Cluster type environments. The application contains all the visual features that allow the monitoring of the configured NIFI instances. This application requieres the implementation of the following dependencies; Lookup File Editor Status Indicator - Custom Visualization To install you must have the NIFI_Monitoring_<version>.tar.gz file and install from the Splunk application manager. Install NIFI Monitoring TA \u00b6 The Technology Addon (TA) of NIFI Monitoring contains all the non-visual characteristics that allow the indexing of the different data sources received from the NIFI server To install you must have the NIFI_TA_Monitoring_<version>.tar.gz file and install from the Splunk application manager. After installation, all the objects that allow data indexing will be available.","title":"Install and configure NIFI Monitoring on Splunk"},{"location":"installation/#install-and-configure-of-nifi-monitoring-app","text":"In this section the necessary steps required to install and configure the NIFI Monitoring application will be detailed.","title":"Install and configure of NIFI Monitoring App"},{"location":"installation/#install-nifi-monitoring-app","text":"NIFI Monitoring is designed to be installed in Standalone or Cluster type environments. The application contains all the visual features that allow the monitoring of the configured NIFI instances. This application requieres the implementation of the following dependencies; Lookup File Editor Status Indicator - Custom Visualization To install you must have the NIFI_Monitoring_<version>.tar.gz file and install from the Splunk application manager.","title":"Install NIFI Monitoring APP"},{"location":"installation/#install-nifi-monitoring-ta","text":"The Technology Addon (TA) of NIFI Monitoring contains all the non-visual characteristics that allow the indexing of the different data sources received from the NIFI server To install you must have the NIFI_TA_Monitoring_<version>.tar.gz file and install from the Splunk application manager. After installation, all the objects that allow data indexing will be available.","title":"Install NIFI Monitoring TA"},{"location":"overview/","text":"Overview \u00b6 The application consists of the following navigation tree: App Nifi Monitoring Home Nifi Monitor Overview Nifi Instance Panels Flow's & Metrics Monitoring Panel Bulletin Monitoring Panel Logs Monitoring Panel Configuration Lookups NiFi Instances Alerts Search Home \u00b6 The main page of NIFI Monitoring App where you can see a small diagram that shows the type of information obtained from the NIFI servers to be analyzed by Splunk NIFI Monitor Overview \u00b6 In the overview panel can see a summary of the different monitored NIFI servers, very similar to the top bar that we find in the initial application. The indicators are the following: Server status by node Repository status by node Bulletin error behavior by node Nifi Instance Panels \u00b6 In the next group of panels we will obtain details of different data sources, but analyzing the nodes individually. Flow's & Metrics Monitoring Panel \u00b6 The following panel shows details of the node's operation, analyzing different performance metrics, as well as availability of use of some of the node's resources. To make the data visualization more user-friendly, the panels have a series of scale selectors understanding the volume variability that a server can handle. Additionally, information on the operational JVM is available in each node, and in this way have a complete view of the operation of the platform. Bulletin Monitoring Panel \u00b6 In the next panel, we can mainly observe the behavior of the errors of the bulletin system in NiFi, since it is very important in the event of an error to be able to carry out the correct traceability, in order to correct the situation as soon as possible. Logs Monitoring Panel \u00b6 In the next panel, we can mainly observe the behavior of the errors of the bulletin system in nifi, since it is very important in the event of an error to be able to carry out the correct traceability, in order to correct the situation as soon as possible.","title":"Overview"},{"location":"overview/#overview","text":"The application consists of the following navigation tree: App Nifi Monitoring Home Nifi Monitor Overview Nifi Instance Panels Flow's & Metrics Monitoring Panel Bulletin Monitoring Panel Logs Monitoring Panel Configuration Lookups NiFi Instances Alerts Search","title":"Overview"},{"location":"overview/#home","text":"The main page of NIFI Monitoring App where you can see a small diagram that shows the type of information obtained from the NIFI servers to be analyzed by Splunk","title":"Home"},{"location":"overview/#nifi-monitor-overview","text":"In the overview panel can see a summary of the different monitored NIFI servers, very similar to the top bar that we find in the initial application. The indicators are the following: Server status by node Repository status by node Bulletin error behavior by node","title":"NIFI Monitor Overview"},{"location":"overview/#nifi-instance-panels","text":"In the next group of panels we will obtain details of different data sources, but analyzing the nodes individually.","title":"Nifi Instance Panels"},{"location":"overview/#flows-metrics-monitoring-panel","text":"The following panel shows details of the node's operation, analyzing different performance metrics, as well as availability of use of some of the node's resources. To make the data visualization more user-friendly, the panels have a series of scale selectors understanding the volume variability that a server can handle. Additionally, information on the operational JVM is available in each node, and in this way have a complete view of the operation of the platform.","title":"Flow's &amp; Metrics Monitoring Panel"},{"location":"overview/#bulletin-monitoring-panel","text":"In the next panel, we can mainly observe the behavior of the errors of the bulletin system in NiFi, since it is very important in the event of an error to be able to carry out the correct traceability, in order to correct the situation as soon as possible.","title":"Bulletin Monitoring Panel"},{"location":"overview/#logs-monitoring-panel","text":"In the next panel, we can mainly observe the behavior of the errors of the bulletin system in nifi, since it is very important in the event of an error to be able to carry out the correct traceability, in order to correct the situation as soon as possible.","title":"Logs Monitoring Panel"},{"location":"references/","text":"Sourcetypes \u00b6 The different sourcetypes used by the application provide a corresponding type of information: nifi:log:app nifi:log:bootstrap It contains the record of all the activities of the NIFI application, from file uploads to execution times or bulletins found by the components. nifi:log:user It contains the record of web activity where users interact and the actions they carry out. nifi:api:flow_status It has the basic information related to the status and processing of the NIFI application nifi:api:site_to_site Provides all the necessary information about the application to communicate with other instances. nifi:api:system_diagostics It has the information about the system resources in use and available that the NIFI instance has. nifi:reporting:task Corresponds to internal reports of status metrics and operation of the application at a more detailed level with respect to flow status. nifi:reporting:bulletin Provides information on the internal bulletins of the application where errors occurred during its operation are specified.","title":"Data Reference"},{"location":"references/#sourcetypes","text":"The different sourcetypes used by the application provide a corresponding type of information: nifi:log:app nifi:log:bootstrap It contains the record of all the activities of the NIFI application, from file uploads to execution times or bulletins found by the components. nifi:log:user It contains the record of web activity where users interact and the actions they carry out. nifi:api:flow_status It has the basic information related to the status and processing of the NIFI application nifi:api:site_to_site Provides all the necessary information about the application to communicate with other instances. nifi:api:system_diagostics It has the information about the system resources in use and available that the NIFI instance has. nifi:reporting:task Corresponds to internal reports of status metrics and operation of the application at a more detailed level with respect to flow status. nifi:reporting:bulletin Provides information on the internal bulletins of the application where errors occurred during its operation are specified.","title":"Sourcetypes"},{"location":"es/./","text":"Introducci\u00f3n \u00b6 Nifi Monitoring es una soluci\u00f3n que propone resolver una gran dificultad encontrada durante el desarrollo de Proyectos NIFI y que corresponde al complejo proceso de monitorizar el funcionamiento de diferentes instancias NIFI simult\u00e1neamente. Esta aplicaci\u00f3n resuelve este problema centralizando toda la informaci\u00f3n relativa al funcionamiento de los diferentes componentes para diversas instancias y cuenta con un conjunto de paneles que permiten visualizar de forma clara y r\u00e1pida el funcionamiento de estas instancias. Este producto Soporta m\u00faltiples instancias NIFI ya sea Standalone o Cluster Nodes. Obtiene los datos desde logs, reports y nifi-api Esta aplicaci\u00f3n requiere la implementaci\u00f3n de las siguientes dependencias: Lookup File Editor Status Indicator \u2013 Custom Visualization Su funcionamiento es completamente gratuito y puedes contribuir a trav\u00e9s del repositorio de Github Escr\u00edbanos a splunk.app@kudaw.com para una evaluaci\u00f3n o a trav\u00e9s de nuestro sitio kudaw.com","title":"Introducci\u00f3n"},{"location":"es/./#introduccion","text":"Nifi Monitoring es una soluci\u00f3n que propone resolver una gran dificultad encontrada durante el desarrollo de Proyectos NIFI y que corresponde al complejo proceso de monitorizar el funcionamiento de diferentes instancias NIFI simult\u00e1neamente. Esta aplicaci\u00f3n resuelve este problema centralizando toda la informaci\u00f3n relativa al funcionamiento de los diferentes componentes para diversas instancias y cuenta con un conjunto de paneles que permiten visualizar de forma clara y r\u00e1pida el funcionamiento de estas instancias. Este producto Soporta m\u00faltiples instancias NIFI ya sea Standalone o Cluster Nodes. Obtiene los datos desde logs, reports y nifi-api Esta aplicaci\u00f3n requiere la implementaci\u00f3n de las siguientes dependencias: Lookup File Editor Status Indicator \u2013 Custom Visualization Su funcionamiento es completamente gratuito y puedes contribuir a trav\u00e9s del repositorio de Github Escr\u00edbanos a splunk.app@kudaw.com para una evaluaci\u00f3n o a trav\u00e9s de nuestro sitio kudaw.com","title":"Introducci\u00f3n"},{"location":"es/configuration/","text":"Configuraci\u00f3n de NiFi Monitoring Splunk \u00b6 Configuraci\u00f3n \u00b6 En esta etapa se detallar\u00e1n los pasos necesarios para el correcto funcionamiento del aplicativo NiFi Monitoring Splunk Hay dos v\u00edas de configuraci\u00f3n que permiten el env\u00edo de eventos a Splunk y su elecci\u00f3n depender\u00e1 de los mecanismos de autenticaci\u00f3n que NIFI tenga habilitado. Env\u00edo directo: Esta configuraci\u00f3n establecer\u00e1 NIFI como la v\u00eda principal para el env\u00edo de datos a Splunk por medio de un conjunto de procesadores y debe ser utilizada cuando NIFI no tenga activado m\u00e9todos de autenticaci\u00f3n. Splunk Data Input NiFi: Splunk se encargar\u00e1 de realizar peticiones a las instancias de NIFI para rescatar la informaci\u00f3n del Monitoring API por medio de la habilitaci\u00f3n y uso del Data Input NIFI. Esta configuraci\u00f3n debe ser utilizada cuando NIFI cuente con autenticaci\u00f3n basica. [NOTA] Configura s\u00f3lo una metodolog\u00eda, ambas en funcionamiento generar\u00e1n informaci\u00f3n duplicada. Env\u00edo Directo \u00b6 1. Configuraci\u00f3n de HTTP Event Collector (HEC) en Splunk \u00b6 Se necesita la configuraci\u00f3n de un recopilador de eventos HTTP (HEC). Esto permite enviar eventos desde las instancias de nifi a una implementaci\u00f3n de Splunk a trav\u00e9s de los protocolos HTTP y HTTPS. Para configurar, en el men\u00fa de Splunk selecciona Settings > Data Inputs. En el listado de Local Inputs identifica HTTP Event Collector y agrega uno nuevo. En el proceso de configuraci\u00f3n deber\u00e1s: Asignar un nombre para el data input, Establecer el sourcetype en autom\u00e1tico , Seleccionar el App Context NIFI Monitoring y finalmente Seleccionar el Index donde se almacenar\u00e1n los datos. Se recomienda utilizar un Index dedicado para este monitoreo. Si no existe, deber\u00e1s crearlo previo a esta configuraci\u00f3n. Al finalizar la configuraci\u00f3n de este Event Collector se crear\u00e1 un Token Value, el cual es necesario para luego configurar el env\u00edo de datos desde NIFI. Proceso de configuraci\u00f3n: 2. Importar Flow Definition en NIFI \u00b6 Descarga y utiliza el Flow Definition proporciado para la configuraci\u00f3n de NiFi Monitoring a trav\u00e9s de este link NifiMonitoring . Tambi\u00e9n podr\u00e1s encontrar este archivo dentro de la carpeta flow_definition del proyecto. El archivo Flow Definition es la estructura de un grupo de procesos encargado de recolectar y ejecutar el env\u00edo de datos de NIFI al Splunk. Est\u00e1 en formato JSON el cual puede ser directamente importado. Para importar el Flow Definition, arrastra una caja de process group al lienzo de nifi En la ventana emergente, selecciona el \u00edcono de importaci\u00f3n, busca en tu equipo y selecciona el flow definition NiFiMonitoring.json para importar. Una vez importado, haz clic en \"add\" para finalizar la importaci\u00f3n del flow definition. Finalmente, ver\u00e1s el grupo de procesadores y en su interior contiene la siguiente estructura: Monitoring API Monitoring Logs Monitoring ReportingTask SendHEC 3. Configuraci\u00f3n de variables globales \u00b6 Configura las variables globales ya que son indispensable para su funcionamiento. Para configurar los par\u00e1metros haz clic derecho sobre la caja NiFIMonitoring > Variables. Se desplegar\u00e1 una ventana emergente donde tendr\u00e1s que configurar los siguientes par\u00e1metros: nifi_api_url: Corresponde a la ruta del API Rest de NIFI, (Ej: http://127.0.0.1:8080/nifi-api/) nifi_path: Corresponde a la ruta de instalaci\u00f3n en el servidor nifi (en caso de cluster debe estar instalado en la misma ruta en cada nodo). (Ej: /home/nifi/nifi-1.10.0/) process_groups_list: Listado de ID de grupos de procesos que se necesitan monitorear, separados por salto de linea. processors_list: Listado de ID de procesadores que se necesitan monitorear, separados por salto de linea. splunk_hec: Es la direcci\u00f3n del servidor splunk donde se configur\u00f3 el data input HTTP Event Collector. (Ej: http:// :8088/) splunk_hec_token: Token obtenido al configurar HTTP Event Collector . 4. Configuraci\u00f3n de componentes \u00b6 Posterior a la configuraci\u00f3n de las variables es necesario crear los siguientes componentes. Para configurar accede a Nifi Settings desde el men\u00fa > controller Settings Se desplegar\u00e1 una ventana emergente como la siguiente: En la pesta\u00f1a Reporting Task Controller Services, agrega el controller service JsonRecordSetWriter, el cual permitir\u00e1 parsear los resultados obtenidos desde el servicio Reporting Task para su posterior indexaci\u00f3n en splunk. Para a\u00f1adir, click en el bot\u00f3n (+) Se desplegar\u00e1 la ventana para agregar el controller. Filtra la lista de opciones con el elemento que se agregar\u00e1, selecci\u00f3nalo y a\u00f1\u00e1delo a la configuraci\u00f3n. Una vez agregado, deber\u00e1s habilitar su funcionamiento haciendo clic sobre el \u00edcono de rayo (\u03df) y en la ventana emergente confirmar. Esto habilitar\u00e1 el controller y deber\u00e1s tener una configuraci\u00f3n como la siguiente. En esta misma ventana, en la pesta\u00f1a Reporting Task se deber\u00e1 configurar los siguientes reportes. MonitorDiskUsage SitetoSiteBulletinReportingTask SitetoSiteMetricsReportingTask Agregue y busque los reporting task requeridos de la misma manera que el paso anterior, haciendo clic en el \u00edcono (+). Una vez agregados podr\u00e1 tener una vista como la siguiente. Configura los reporting task con la siguiente informaci\u00f3n: MonitorDiskUsage: Sistema de reporte interno que genera eventos a medida que se supera el umbral definido para la utilizaci\u00f3n del filesystem y capturados en un flujo especifico. SiteToSiteBulletinReportingTask: Sistema de reporte interno que genera eventos a medida que se van generando errores del tipo bulletin y capturados en un flujo especifico. La configuraci\u00f3n debe ser la siguiente: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: bulletin_report Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter SiteToSiteMetricsReportingTask: Sistema de reporte interno que genera eventos a medida que se van generando m\u00e9tricas del mismo ambiente y capturados en un flujo especifico. La configuraci\u00f3n debe ser la siguiente: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: reporting_task Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter Output Format: Record Formats Una vez configurados los reporting task deber\u00e1s iniciar la ejecuci\u00f3n haciendo click start (\u25ba) en cada uno de ellos. 5. Habilitaci\u00f3n del env\u00edo de datos \u00b6 Luego de haber completado todo el proceso de configuraci\u00f3n, inicie la ejecuci\u00f3n del grupo de procesos. Haga clic derecho sobre el grupo de procesos y luego en Start. S\u00ed toda la configuraci\u00f3n se ejecut\u00f3 de manera correcta, se iniciar\u00e1 el env\u00edo de la informaci\u00f3n a Splunk. Para que los datos enviados a splunk est\u00e9n accesibles desde la aplicaci\u00f3n deber\u00e1 haber configurado el Lookup de Instancias Configuraci\u00f3n del Data Input Nifi en Splunk \u00b6 Esta configuraci\u00f3n debe ser aplicada cuando las instancias de NIFI cuenten con almenos autenticaci\u00f3n b\u00e1sica En en los data input de Splunk puedes configurar varios recursos, como: NIFI Endpoints para el monitoreo de System Diagnostics, Flow Status y Site to Site y el NIFI Status History para monitoreo espec\u00edfico de procesadores y grupos de procesos en base a los ID de \u00e9stos. Para configurar, en el splunk donde est\u00e1 instalada la aplicaci\u00f3n Nifi Monitoring, accede al Home de la APP. Luego en Settings Data Inputs En los local data input, identifica NiFi y luego clic en + Add new Se desplegar\u00e1 una ventana como la siguiente: Te recomendamos configurar de manera independiente cada uno de los recursos de monitoreo para eventuales modificaciones en la configuraci\u00f3n y debido a los tiempos de ejecuci\u00f3n para obtenci\u00f3n de datos. Los recursos son: a. NIFI Endpoints b. NIFI Status History para Procesadores c. NIFI Status History para Grupos de Procesos 1. Configuraci\u00f3n b\u00e1sica de los recursos \u00b6 Para cada una de los recursos debes configurar todos los campos requeridos: NIFI Instance name: Asigna un nombre a la instancia de NIFI NIFI API URL: Direcci\u00f3n del API Rest de NIFI. (Ej. http://<direccion:puerto>/nifi-api/) Auth Type: Tipo de autenticaci\u00f3n: none: Sin autenticaci\u00f3n basic: Acceso con credenciales usuario y contrase\u00f1a Interval: Tiempo en segundos en el que se realizar\u00e1n las peticiones para extraer la informaci\u00f3n, por defecto, 60 segundos. Host: Nombre del host de nifi, el cual debe corresponder a lo definido en el Lookup de Configuraciones. Index: Index de destinto para esta fuente de datos. Se recomienda un index dedicado, por ejemplo: nifi. Si no existe, deber\u00e1 crearlo previamente. a. NIFI Endpoints \u00b6 En el apartado NIFI Endpoints, selecciona los elementos a monitorear de la lista existente. System Diagnostics Flow Status Site to Site b. NIFI Status History para Procesadores \u00b6 En el apartado NIFI Status History > List Processors ID especifica los ID de procesadores que ser\u00e1n monitorieados y separados por coma en caso de ser varios. c. NIFI Status History para Grupos de Procesos \u00b6 En el apartado NIFI Status History > Process Groups ID especifica los ID de los grupos de procesos que ser\u00e1n monitorieados y separados por coma en caso de ser varios. Una vez completada la configuraci\u00f3n, haz clic en siguiente y la creaci\u00f3n finalizar\u00e1 correctamente Repite el proceso de configuraci\u00f3n por cada recurso que necesites monitorear. Ejemplo de los 3 recursos creados de manera independiente Configuraci\u00f3n transversal \u00b6 Independiente de la metodolog\u00eda de env\u00edo adoptada, este paso de configuraci\u00f3n es requerido para el despliegue de datos en la aplicaci\u00f3n de NIFI Monitoring Splunk. Lookup de Instancias \u00b6 Ve a Configuration > NiFi Instances para acceder a la vista de configuraci\u00f3n de Lookups Completa la informaci\u00f3n de los campos, en donde, la etiqueta cluster es para asociar un grupo de nodos y host es el nombre de la instancia. Para obtener el nombre del host, ejecuta la siguiente b\u00fasqueda con un rango de tiempo de \u00faltimos 60 minutos. Splunk Query sourcetype=nifi* | dedup host | table host El resultado de esta b\u00fasqueda retornar\u00e1 el listado de host que deben ser configurados en el lookup. Si el lookup est\u00e1 correctamente configurado la informaci\u00f3n podr\u00e1 ser accesible desde el panel Overview. \u00bfNo hay resultados en la b\u00fasqueda ejecutada? Para que esta b\u00fasqueda retorne resultados, los procesos de Nifi deben estar ejecut\u00e1ndose correctamente. Seg\u00fan la metodolog\u00eda de configuraci\u00f3n deber\u00e1s: Env\u00edo directo: Debes iniciar los procesos de NIFI \u00bfC\u00f3mo habilitar env\u00edo de datos? Splunk Data Input NiFi: Los data inputs configurados deben estar habilitados.","title":"Configuraci\u00f3n de NIFI"},{"location":"es/configuration/#configuracion-de-nifi-monitoring-splunk","text":"","title":"Configuraci\u00f3n de NiFi Monitoring Splunk"},{"location":"es/configuration/#configuracion","text":"En esta etapa se detallar\u00e1n los pasos necesarios para el correcto funcionamiento del aplicativo NiFi Monitoring Splunk Hay dos v\u00edas de configuraci\u00f3n que permiten el env\u00edo de eventos a Splunk y su elecci\u00f3n depender\u00e1 de los mecanismos de autenticaci\u00f3n que NIFI tenga habilitado. Env\u00edo directo: Esta configuraci\u00f3n establecer\u00e1 NIFI como la v\u00eda principal para el env\u00edo de datos a Splunk por medio de un conjunto de procesadores y debe ser utilizada cuando NIFI no tenga activado m\u00e9todos de autenticaci\u00f3n. Splunk Data Input NiFi: Splunk se encargar\u00e1 de realizar peticiones a las instancias de NIFI para rescatar la informaci\u00f3n del Monitoring API por medio de la habilitaci\u00f3n y uso del Data Input NIFI. Esta configuraci\u00f3n debe ser utilizada cuando NIFI cuente con autenticaci\u00f3n basica. [NOTA] Configura s\u00f3lo una metodolog\u00eda, ambas en funcionamiento generar\u00e1n informaci\u00f3n duplicada.","title":"Configuraci\u00f3n"},{"location":"es/configuration/#envio-directo","text":"","title":"Env\u00edo Directo"},{"location":"es/configuration/#1-configuracion-de-http-event-collector-hec-en-splunk","text":"Se necesita la configuraci\u00f3n de un recopilador de eventos HTTP (HEC). Esto permite enviar eventos desde las instancias de nifi a una implementaci\u00f3n de Splunk a trav\u00e9s de los protocolos HTTP y HTTPS. Para configurar, en el men\u00fa de Splunk selecciona Settings > Data Inputs. En el listado de Local Inputs identifica HTTP Event Collector y agrega uno nuevo. En el proceso de configuraci\u00f3n deber\u00e1s: Asignar un nombre para el data input, Establecer el sourcetype en autom\u00e1tico , Seleccionar el App Context NIFI Monitoring y finalmente Seleccionar el Index donde se almacenar\u00e1n los datos. Se recomienda utilizar un Index dedicado para este monitoreo. Si no existe, deber\u00e1s crearlo previo a esta configuraci\u00f3n. Al finalizar la configuraci\u00f3n de este Event Collector se crear\u00e1 un Token Value, el cual es necesario para luego configurar el env\u00edo de datos desde NIFI. Proceso de configuraci\u00f3n:","title":"1. Configuraci\u00f3n de HTTP Event Collector (HEC) en Splunk"},{"location":"es/configuration/#2-importar-flow-definition-en-nifi","text":"Descarga y utiliza el Flow Definition proporciado para la configuraci\u00f3n de NiFi Monitoring a trav\u00e9s de este link NifiMonitoring . Tambi\u00e9n podr\u00e1s encontrar este archivo dentro de la carpeta flow_definition del proyecto. El archivo Flow Definition es la estructura de un grupo de procesos encargado de recolectar y ejecutar el env\u00edo de datos de NIFI al Splunk. Est\u00e1 en formato JSON el cual puede ser directamente importado. Para importar el Flow Definition, arrastra una caja de process group al lienzo de nifi En la ventana emergente, selecciona el \u00edcono de importaci\u00f3n, busca en tu equipo y selecciona el flow definition NiFiMonitoring.json para importar. Una vez importado, haz clic en \"add\" para finalizar la importaci\u00f3n del flow definition. Finalmente, ver\u00e1s el grupo de procesadores y en su interior contiene la siguiente estructura: Monitoring API Monitoring Logs Monitoring ReportingTask SendHEC","title":"2. Importar Flow Definition en NIFI"},{"location":"es/configuration/#3-configuracion-de-variables-globales","text":"Configura las variables globales ya que son indispensable para su funcionamiento. Para configurar los par\u00e1metros haz clic derecho sobre la caja NiFIMonitoring > Variables. Se desplegar\u00e1 una ventana emergente donde tendr\u00e1s que configurar los siguientes par\u00e1metros: nifi_api_url: Corresponde a la ruta del API Rest de NIFI, (Ej: http://127.0.0.1:8080/nifi-api/) nifi_path: Corresponde a la ruta de instalaci\u00f3n en el servidor nifi (en caso de cluster debe estar instalado en la misma ruta en cada nodo). (Ej: /home/nifi/nifi-1.10.0/) process_groups_list: Listado de ID de grupos de procesos que se necesitan monitorear, separados por salto de linea. processors_list: Listado de ID de procesadores que se necesitan monitorear, separados por salto de linea. splunk_hec: Es la direcci\u00f3n del servidor splunk donde se configur\u00f3 el data input HTTP Event Collector. (Ej: http:// :8088/) splunk_hec_token: Token obtenido al configurar HTTP Event Collector .","title":"3. Configuraci\u00f3n de variables globales"},{"location":"es/configuration/#4-configuracion-de-componentes","text":"Posterior a la configuraci\u00f3n de las variables es necesario crear los siguientes componentes. Para configurar accede a Nifi Settings desde el men\u00fa > controller Settings Se desplegar\u00e1 una ventana emergente como la siguiente: En la pesta\u00f1a Reporting Task Controller Services, agrega el controller service JsonRecordSetWriter, el cual permitir\u00e1 parsear los resultados obtenidos desde el servicio Reporting Task para su posterior indexaci\u00f3n en splunk. Para a\u00f1adir, click en el bot\u00f3n (+) Se desplegar\u00e1 la ventana para agregar el controller. Filtra la lista de opciones con el elemento que se agregar\u00e1, selecci\u00f3nalo y a\u00f1\u00e1delo a la configuraci\u00f3n. Una vez agregado, deber\u00e1s habilitar su funcionamiento haciendo clic sobre el \u00edcono de rayo (\u03df) y en la ventana emergente confirmar. Esto habilitar\u00e1 el controller y deber\u00e1s tener una configuraci\u00f3n como la siguiente. En esta misma ventana, en la pesta\u00f1a Reporting Task se deber\u00e1 configurar los siguientes reportes. MonitorDiskUsage SitetoSiteBulletinReportingTask SitetoSiteMetricsReportingTask Agregue y busque los reporting task requeridos de la misma manera que el paso anterior, haciendo clic en el \u00edcono (+). Una vez agregados podr\u00e1 tener una vista como la siguiente. Configura los reporting task con la siguiente informaci\u00f3n: MonitorDiskUsage: Sistema de reporte interno que genera eventos a medida que se supera el umbral definido para la utilizaci\u00f3n del filesystem y capturados en un flujo especifico. SiteToSiteBulletinReportingTask: Sistema de reporte interno que genera eventos a medida que se van generando errores del tipo bulletin y capturados en un flujo especifico. La configuraci\u00f3n debe ser la siguiente: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: bulletin_report Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter SiteToSiteMetricsReportingTask: Sistema de reporte interno que genera eventos a medida que se van generando m\u00e9tricas del mismo ambiente y capturados en un flujo especifico. La configuraci\u00f3n debe ser la siguiente: Destination URL: http://${hostname(true)}:8080/nifi Input Port Name: reporting_task Instance URL: http://${hostname(true)}:8080/nifi Transport Protocol: HTTP Record Writer: JsonRecordSetWriter Output Format: Record Formats Una vez configurados los reporting task deber\u00e1s iniciar la ejecuci\u00f3n haciendo click start (\u25ba) en cada uno de ellos.","title":"4. Configuraci\u00f3n de componentes"},{"location":"es/configuration/#5-habilitacion-del-envio-de-datos","text":"Luego de haber completado todo el proceso de configuraci\u00f3n, inicie la ejecuci\u00f3n del grupo de procesos. Haga clic derecho sobre el grupo de procesos y luego en Start. S\u00ed toda la configuraci\u00f3n se ejecut\u00f3 de manera correcta, se iniciar\u00e1 el env\u00edo de la informaci\u00f3n a Splunk. Para que los datos enviados a splunk est\u00e9n accesibles desde la aplicaci\u00f3n deber\u00e1 haber configurado el Lookup de Instancias","title":"5. Habilitaci\u00f3n del env\u00edo de datos"},{"location":"es/configuration/#configuracion-del-data-input-nifi-en-splunk","text":"Esta configuraci\u00f3n debe ser aplicada cuando las instancias de NIFI cuenten con almenos autenticaci\u00f3n b\u00e1sica En en los data input de Splunk puedes configurar varios recursos, como: NIFI Endpoints para el monitoreo de System Diagnostics, Flow Status y Site to Site y el NIFI Status History para monitoreo espec\u00edfico de procesadores y grupos de procesos en base a los ID de \u00e9stos. Para configurar, en el splunk donde est\u00e1 instalada la aplicaci\u00f3n Nifi Monitoring, accede al Home de la APP. Luego en Settings Data Inputs En los local data input, identifica NiFi y luego clic en + Add new Se desplegar\u00e1 una ventana como la siguiente: Te recomendamos configurar de manera independiente cada uno de los recursos de monitoreo para eventuales modificaciones en la configuraci\u00f3n y debido a los tiempos de ejecuci\u00f3n para obtenci\u00f3n de datos. Los recursos son: a. NIFI Endpoints b. NIFI Status History para Procesadores c. NIFI Status History para Grupos de Procesos","title":"Configuraci\u00f3n del Data Input Nifi en Splunk"},{"location":"es/configuration/#1-configuracion-basica-de-los-recursos","text":"Para cada una de los recursos debes configurar todos los campos requeridos: NIFI Instance name: Asigna un nombre a la instancia de NIFI NIFI API URL: Direcci\u00f3n del API Rest de NIFI. (Ej. http://<direccion:puerto>/nifi-api/) Auth Type: Tipo de autenticaci\u00f3n: none: Sin autenticaci\u00f3n basic: Acceso con credenciales usuario y contrase\u00f1a Interval: Tiempo en segundos en el que se realizar\u00e1n las peticiones para extraer la informaci\u00f3n, por defecto, 60 segundos. Host: Nombre del host de nifi, el cual debe corresponder a lo definido en el Lookup de Configuraciones. Index: Index de destinto para esta fuente de datos. Se recomienda un index dedicado, por ejemplo: nifi. Si no existe, deber\u00e1 crearlo previamente.","title":"1. Configuraci\u00f3n b\u00e1sica de los recursos"},{"location":"es/configuration/#a-nifi-endpoints","text":"En el apartado NIFI Endpoints, selecciona los elementos a monitorear de la lista existente. System Diagnostics Flow Status Site to Site","title":"a. NIFI Endpoints"},{"location":"es/configuration/#b-nifi-status-history-para-procesadores","text":"En el apartado NIFI Status History > List Processors ID especifica los ID de procesadores que ser\u00e1n monitorieados y separados por coma en caso de ser varios.","title":"b. NIFI Status History para Procesadores"},{"location":"es/configuration/#c-nifi-status-history-para-grupos-de-procesos","text":"En el apartado NIFI Status History > Process Groups ID especifica los ID de los grupos de procesos que ser\u00e1n monitorieados y separados por coma en caso de ser varios. Una vez completada la configuraci\u00f3n, haz clic en siguiente y la creaci\u00f3n finalizar\u00e1 correctamente Repite el proceso de configuraci\u00f3n por cada recurso que necesites monitorear. Ejemplo de los 3 recursos creados de manera independiente","title":"c. NIFI Status History para Grupos de Procesos"},{"location":"es/configuration/#configuracion-transversal","text":"Independiente de la metodolog\u00eda de env\u00edo adoptada, este paso de configuraci\u00f3n es requerido para el despliegue de datos en la aplicaci\u00f3n de NIFI Monitoring Splunk.","title":"Configuraci\u00f3n transversal"},{"location":"es/configuration/#lookup-de-instancias","text":"Ve a Configuration > NiFi Instances para acceder a la vista de configuraci\u00f3n de Lookups Completa la informaci\u00f3n de los campos, en donde, la etiqueta cluster es para asociar un grupo de nodos y host es el nombre de la instancia. Para obtener el nombre del host, ejecuta la siguiente b\u00fasqueda con un rango de tiempo de \u00faltimos 60 minutos. Splunk Query sourcetype=nifi* | dedup host | table host El resultado de esta b\u00fasqueda retornar\u00e1 el listado de host que deben ser configurados en el lookup. Si el lookup est\u00e1 correctamente configurado la informaci\u00f3n podr\u00e1 ser accesible desde el panel Overview. \u00bfNo hay resultados en la b\u00fasqueda ejecutada? Para que esta b\u00fasqueda retorne resultados, los procesos de Nifi deben estar ejecut\u00e1ndose correctamente. Seg\u00fan la metodolog\u00eda de configuraci\u00f3n deber\u00e1s: Env\u00edo directo: Debes iniciar los procesos de NIFI \u00bfC\u00f3mo habilitar env\u00edo de datos? Splunk Data Input NiFi: Los data inputs configurados deben estar habilitados.","title":"Lookup de Instancias"},{"location":"es/contributing/","text":"Contribuya \u00b6 Gracias por su inter\u00e9s en nuestro contenido, si quiere contribuir en el desarrollo de este proyecto la mejor manera de hacerlo es enviando una solicitud Pull Request bien estructurada y completa, con pruebas y documentaci\u00f3n. Intente ser focalizado, hacer m\u00e1s de una cosa en una sola solicitud har\u00e1 que sea m\u00e1s dificil de procesar. Issues \u00b6 Si encontr\u00f3 un error o tiene una solicitud de funci\u00f3n puede registrar un issue. Siempre recomendamos revisar los problemas creados, porque puede ser que ya haya sido reportado.","title":"Contribuya"},{"location":"es/contributing/#contribuya","text":"Gracias por su inter\u00e9s en nuestro contenido, si quiere contribuir en el desarrollo de este proyecto la mejor manera de hacerlo es enviando una solicitud Pull Request bien estructurada y completa, con pruebas y documentaci\u00f3n. Intente ser focalizado, hacer m\u00e1s de una cosa en una sola solicitud har\u00e1 que sea m\u00e1s dificil de procesar.","title":"Contribuya"},{"location":"es/contributing/#issues","text":"Si encontr\u00f3 un error o tiene una solicitud de funci\u00f3n puede registrar un issue. Siempre recomendamos revisar los problemas creados, porque puede ser que ya haya sido reportado.","title":"Issues"},{"location":"es/installation/","text":"Instalaci\u00f3n de NIFI Monitoring APP \u00b6 Es esta secci\u00f3n se detallar\u00e1n los pasos necesarios requeridos para instalar la aplicaci\u00f3n NIFI Monitoring en Splunk Instalaci\u00f3n de NIFI Monitoring APP \u00b6 NIFI Monitoring est\u00e1 dise\u00f1ado para ser instalado en ambientes de tipo Standalone o Cluster. Esta aplicaci\u00f3n requiere la implementaci\u00f3n de las siguientes dependencias: Lookup File Editor Status Indicator \u2013 Custom Visualization La aplicaci\u00f3n contiene todas las caracter\u00edsticas visuales que permiten el monitoreo de las instancias de NIFI configuradas. Para instalar debe contar con el archivo NIFI_Monitoring_<version>.tar.gz e instale desde el administrador de aplicaciones de Splunk. Instalaci\u00f3n de NIFI Monitoring TA \u00b6 El Technology Addon (TA) de NIFI Monitoring contiene todas las caracter\u00edsticas no visuales que permiten la indexaci\u00f3n de las distintas fuentes de datos recibidas desde el o los servidores NIFI. Para instalar debe contar con el archivo NIFI_TA_Monitoring_<version>.tar.gz e instale desde el administrador de aplicaciones de Splunk. Luego de la instalaci\u00f3n se dispondr\u00e1 de todos los objetos que permiten la indexaci\u00f3n de datos.","title":"Instalaci\u00f3n y configuraci\u00f3n de NIFI Monitoring en Splunk"},{"location":"es/installation/#instalacion-de-nifi-monitoring-app","text":"Es esta secci\u00f3n se detallar\u00e1n los pasos necesarios requeridos para instalar la aplicaci\u00f3n NIFI Monitoring en Splunk","title":"Instalaci\u00f3n de NIFI Monitoring APP"},{"location":"es/installation/#instalacion-de-nifi-monitoring-app_1","text":"NIFI Monitoring est\u00e1 dise\u00f1ado para ser instalado en ambientes de tipo Standalone o Cluster. Esta aplicaci\u00f3n requiere la implementaci\u00f3n de las siguientes dependencias: Lookup File Editor Status Indicator \u2013 Custom Visualization La aplicaci\u00f3n contiene todas las caracter\u00edsticas visuales que permiten el monitoreo de las instancias de NIFI configuradas. Para instalar debe contar con el archivo NIFI_Monitoring_<version>.tar.gz e instale desde el administrador de aplicaciones de Splunk.","title":"Instalaci\u00f3n de NIFI Monitoring APP"},{"location":"es/installation/#instalacion-de-nifi-monitoring-ta","text":"El Technology Addon (TA) de NIFI Monitoring contiene todas las caracter\u00edsticas no visuales que permiten la indexaci\u00f3n de las distintas fuentes de datos recibidas desde el o los servidores NIFI. Para instalar debe contar con el archivo NIFI_TA_Monitoring_<version>.tar.gz e instale desde el administrador de aplicaciones de Splunk. Luego de la instalaci\u00f3n se dispondr\u00e1 de todos los objetos que permiten la indexaci\u00f3n de datos.","title":"Instalaci\u00f3n de NIFI Monitoring TA"},{"location":"es/overview/","text":"Vista General \u00b6 La aplicaci\u00f3n consta del siguiente \u00e1rbol de navegaci\u00f3n: App Nifi Monitoring Home Nifi Monitor Overview Nifi Instance Panels Flow's & Metrics Monitoring Panel Bulletin Monitoring Panel Logs Monitoring Panel Configuration Lookups NiFi Instances Alerts Search Home \u00b6 La p\u00e1gina principal de la aplicaci\u00f3n de Nifi Monitoring donde se observa un peque\u00f1o diagrama que muestra el tipo de informaci\u00f3n obtenida desde los servidores NIFI para ser analizada por SPLUNK. NIFI Monitor Overview \u00b6 En el panel de overview se puede observar un resumen de los distintos servidores NIFI monitoreados, muy similar a la barra superior que encontramos en el aplicativo inicial. Los indicadores son los siguientes: Estado del servidor por nodo Estado de repositorios por nodo Comportamiento de errores de bulletin por nodo Nifi Instance Panels \u00b6 En el siguiente grupo de paneles obtendremos detalles de distintas fuentes de datos, pero analizando los nodos de manera individual. Flow's & Metrics Monitoring Panel \u00b6 El siguiente panel muestra detalle de la operaci\u00f3n del nodo, analizando distintas m\u00e9tricas del funcionamiento, as\u00ed como tambi\u00e9n disponibilidad de uso de algunos de los recursos del nodo. Para hacer mas amigable la visualizacion de los datos, los paneles cuentan con una serie de selectores de escala entendiendo la variabilidad de volumenes que puede manejar un servidor. Adicionalmente se dispone informaci\u00f3n de la JVM operativa en cada nodo, y as\u00ed de esta manera tener una vista completa del funcionamiento de la plataforma. Bulletin Monitoring Panel \u00b6 En el siguiente panel podemos observar principalmente el comportamiento de los errores del sistema de bulletin en nifi, ya que es muy importante en el caso de ocurrir alg\u00fan error poder realizar la correcta trazabilidad, con el fin de corregir la situaci\u00f3n lo antes posible. Logs Monitoring Panel \u00b6 Con este panel podemos observar el comportamiento de los errores del sistema de bulletin en nifi, ya que es muy importante en el caso de ocurrir alg\u00fan error poder realizar la correcta trazabilidad, con el fin de corregir la situaci\u00f3n lo antes posible.","title":"Vista General"},{"location":"es/overview/#vista-general","text":"La aplicaci\u00f3n consta del siguiente \u00e1rbol de navegaci\u00f3n: App Nifi Monitoring Home Nifi Monitor Overview Nifi Instance Panels Flow's & Metrics Monitoring Panel Bulletin Monitoring Panel Logs Monitoring Panel Configuration Lookups NiFi Instances Alerts Search","title":"Vista General"},{"location":"es/overview/#home","text":"La p\u00e1gina principal de la aplicaci\u00f3n de Nifi Monitoring donde se observa un peque\u00f1o diagrama que muestra el tipo de informaci\u00f3n obtenida desde los servidores NIFI para ser analizada por SPLUNK.","title":"Home"},{"location":"es/overview/#nifi-monitor-overview","text":"En el panel de overview se puede observar un resumen de los distintos servidores NIFI monitoreados, muy similar a la barra superior que encontramos en el aplicativo inicial. Los indicadores son los siguientes: Estado del servidor por nodo Estado de repositorios por nodo Comportamiento de errores de bulletin por nodo","title":"NIFI Monitor Overview"},{"location":"es/overview/#nifi-instance-panels","text":"En el siguiente grupo de paneles obtendremos detalles de distintas fuentes de datos, pero analizando los nodos de manera individual.","title":"Nifi Instance Panels"},{"location":"es/overview/#flows-metrics-monitoring-panel","text":"El siguiente panel muestra detalle de la operaci\u00f3n del nodo, analizando distintas m\u00e9tricas del funcionamiento, as\u00ed como tambi\u00e9n disponibilidad de uso de algunos de los recursos del nodo. Para hacer mas amigable la visualizacion de los datos, los paneles cuentan con una serie de selectores de escala entendiendo la variabilidad de volumenes que puede manejar un servidor. Adicionalmente se dispone informaci\u00f3n de la JVM operativa en cada nodo, y as\u00ed de esta manera tener una vista completa del funcionamiento de la plataforma.","title":"Flow's &amp; Metrics Monitoring Panel"},{"location":"es/overview/#bulletin-monitoring-panel","text":"En el siguiente panel podemos observar principalmente el comportamiento de los errores del sistema de bulletin en nifi, ya que es muy importante en el caso de ocurrir alg\u00fan error poder realizar la correcta trazabilidad, con el fin de corregir la situaci\u00f3n lo antes posible.","title":"Bulletin Monitoring Panel"},{"location":"es/overview/#logs-monitoring-panel","text":"Con este panel podemos observar el comportamiento de los errores del sistema de bulletin en nifi, ya que es muy importante en el caso de ocurrir alg\u00fan error poder realizar la correcta trazabilidad, con el fin de corregir la situaci\u00f3n lo antes posible.","title":"Logs Monitoring Panel"},{"location":"es/references/","text":"Sourcetypes \u00b6 Los distintos sourcetypes utilizados por la aplicaci\u00f3n entregan un tipo de informaci\u00f3n que corresponde: nifi:log:app nifi:log:bootstrap Contiene el registro de todas las actividades de la aplicaci\u00f3n NIFI, desde la carga de archivos hasta los tiempos de ejecuci\u00f3n o los boletines encontrados por los componentes. nifi:log:user Contiene el registro de la actividad web donde interact\u00faen los usuarios y las acciones que \u00e9stos realicen. nifi:api:flow_status Dispone de la informaci\u00f3n b\u00e1sica relacionada al estado y el procesamiento de la aplicaci\u00f3n NIFI nifi:api:site_to_site Entrega toda la informaci\u00f3n necesaria sobre el aplicativo para comunicarse con otras instancias. nifi:api:system_diagostics Dispone de la informaci\u00f3n informaci\u00f3n de los recursos de sistema en uso y disponibles con los que cuenta la instancia de NIFI. nifi:reporting:task Corresponde a reportes internos de metricas de estado y funcionamiento del aplicativo a un nivel m\u00e1s detallado respecto al flow status. nifi:reporting:bulletin Entrega informacion sobre los boletines internos del aplicativo donde se especifican errores ocurridos duante su funcionamiento.","title":"Referencia de Datos"},{"location":"es/references/#sourcetypes","text":"Los distintos sourcetypes utilizados por la aplicaci\u00f3n entregan un tipo de informaci\u00f3n que corresponde: nifi:log:app nifi:log:bootstrap Contiene el registro de todas las actividades de la aplicaci\u00f3n NIFI, desde la carga de archivos hasta los tiempos de ejecuci\u00f3n o los boletines encontrados por los componentes. nifi:log:user Contiene el registro de la actividad web donde interact\u00faen los usuarios y las acciones que \u00e9stos realicen. nifi:api:flow_status Dispone de la informaci\u00f3n b\u00e1sica relacionada al estado y el procesamiento de la aplicaci\u00f3n NIFI nifi:api:site_to_site Entrega toda la informaci\u00f3n necesaria sobre el aplicativo para comunicarse con otras instancias. nifi:api:system_diagostics Dispone de la informaci\u00f3n informaci\u00f3n de los recursos de sistema en uso y disponibles con los que cuenta la instancia de NIFI. nifi:reporting:task Corresponde a reportes internos de metricas de estado y funcionamiento del aplicativo a un nivel m\u00e1s detallado respecto al flow status. nifi:reporting:bulletin Entrega informacion sobre los boletines internos del aplicativo donde se especifican errores ocurridos duante su funcionamiento.","title":"Sourcetypes"}]}